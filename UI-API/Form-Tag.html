<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form</title>
</head>
<body>
    <!--Form Element-->
    <form id="login">
        <!-- form elements -->
    </form>
    <!-- button in form -->
    <form id="login">
        <!-- form elements -->
        <button> Login </button>
    </form>
    <!-- submit button outside of form -->
    <form id="login">
        <!-- form elements -->
    </form>
    <button form="login">Login</button>

    <p>lorem</p>

    <!--query string-->
    <form id="login">
        <input name="username" id="username" placeholder="username" />
        <input name="password" type="password" id="password" />
        <button form="login">Login</button>
    </form>
    <p>lorem</p>

    <!--METHOD-->

    <form id="login" method="get" >
        ...items
    </form>
    <!-- get methods send request parameters in the url -->
  
    <form id="login" method="post" >
        ...items
    </form>
    <!-- post methods have request parameters sent in the body -->
    
    <p>lorem</p>

    <!--ACTION-->

     <!-- action is a url -->
    <form id="login" action="login.html">
        ...
    </form> 

    <!--Action will almost always be sent to a resource on the server.-->


    <!--From the ? on is called the query string-->
    <script>
        console.log(window.location.search)//gives the query string location url after the ?

        let urlParams = new URLSearchParams(window.location.search);

        //loop through
        for(key of urlParams.keys()){
            console.log(key,urlParams.get(key))
        }

        //get specific
        let username = urlParams.get("username")
        


        //use this function to prevent default
        const formHandler = (evt)=>{
            evt.preventDefault()
            return [...evt.target.elements]
            .filter(el=>el.name)
            .map(el=>({name:el.name, value:el.value}))
        }



        let loginForm = document.querySelector("#login")
        loginForm.addEventListener("submit",(evt)=>{
            results = formHandler(evt)
        }






        //form above
        
        /*const formHandler = (evt)=>{
            evt.preventDefault()
            return [...evt.target.elements]
            .filter(el=>el.name).map(el=>({name:el.name, value:el.value}))

        let loginForm = document.querySelector("#login")
        loginForm.addEventListener("submit",(evt)=>{
            evt.preventDefault()
            return [...evt.target.elements]
                .filter(el=>el.name)
                .map(el=>({name:el.name, value:el.value}))//prevnts the login from acting normally and keeps from refreshing the page
            */
           
            //we will use prevent default nst6ead of action button a lot
            /*
            console.log('I can do something else with the form!')
            console.log(evt.target.elements)//HTMLFormControlCollection
            //if it has a name or id you can do this
            console.log(evt.target.elements['#login'])
            //also you can spread it into an array and loop it
            let results = [...evt.target.elements].filter(el=>el.name).map(el=>({name:el.name, value:el.value}))
            //this above method is the best for getting individual key values in an htmlcollection

            console.log(results)
            let d = document.createElement('div')
            d.append(results[0].name,":",results[0],value)
            document.body.append(d)*/
        )
    </script>
</body>
</html>

<!--query string - Additional key value pairs in a url that javascript or a backend server can intepret and use to cause different functionality. The first key value starts with a ? and any additional starts with &
Request Methods - The request methods are part of the http request that tell the server how to recieve the content.-->